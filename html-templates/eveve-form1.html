	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB" lang="en-GB">

<head>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<title>Book a Table at Test Restaurant</title>
<meta name="robots" content="noindex,nofollow" />
<link href="mobile.css" rel="stylesheet" type="text/css" />


<script language="javascript">

var iAdj;

var WeekDay = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];

var Today = 29;
var Firsts = [3,6,1,4,6,2];
var Days = [31,30,31,30,31,31];
var Adj = [0,3,33,64,94,125,156];


var Covers = [1,2,3,4,5,6,7,8,9,10];
var nCover = 0;

var SESS = 0;
var DayZero = 41513;


	function MonthClick(iMonth, iSelect) {
		var SelBox = document.Form1.Day; var Day;
		var nDay = Days[iMonth]; var iDay = Firsts[iMonth]; var First;
		iAdj = Adj[iMonth];
//alert("iAdj=" + iAdj);
//alert('MonthClick ' + iMonth + '/' + iSelect);
		SelBox.options.length = 0;
		if (iMonth > 0) First = 1;
		else First = Today;
		for (var i = First; i <= nDay; ++i) {
			if (i < 10) Day = '0' + i;
			else Day = '' + i;
			Day += ' ' + WeekDay[iDay];
 			if (iMonth == 0) {
				if (i == First) Day += ' (today)';
				if (i == First + 1) Day += ' (tomorrow)';
			}
//alert('Day=' + Day);
			SelBox.options[SelBox.options.length] = new Option(Day, Day, false, ((i - First) == iSelect));
			if (++iDay > 6) iDay = 0;
		}
		SessionLoad(iDay);
	}

	function SessionLoad(iDay) {
		if (!SESS) return;
		var iActual = iDay + iAdj;
		var SelBox = document.Form1.Session;
		var iSession = DaySessions[iActual];
		var SessionNames = Sessions[iSession];
//alert('day=' + iActual + ', iSession=' + iSession + ', SessionNames=' + SessionNames);
		SelBox.options.length = 0;
		if (SessionNames.length > 0) {
			for (var i = 0; i < SessionNames.length; ++i) {
				SelBox.options[i] = new Option(SessionNames[i]);
			}
		} else SelBox.options[0] = new Option('Closed');
	}

	function CoversSet() {
		var Box = document.Form1.Covers;
//alert('Covers set ' + Covers.length);
		Box.options.length = 0;
		Box.options[0] = new Option("");
		for (var i = 0; i < Covers.length; ++i) {
			Box.options[Box.options.length] = new Option(Covers[i], Covers[i], false, (Covers[i] == nCover));
		}
	}

	function DateSet(Date) {
		var nDay = Date, MonthDays;
//alert('DateSet ' + Date);
		for (var iMonth = 0; iMonth < Days.length; ++iMonth) {
			if (iMonth) MonthDays = Days[iMonth];
			else MonthDays = Days[0] - Today + 1;
			if (nDay < MonthDays) {
				MonthClick(iMonth, nDay);
				SessionLoad(Date);
				return;
			}
			nDay -= MonthDays;
		}
//alert('DateSet done');
	}
		
	function Load() {
		DateSet(41513 - DayZero);
		CoversSet();
	}

</script>
</head>

<body onload="Load()">

<form name="Form1" action="http://nz3.eveve.com/TMS/elgusto/TimesGet.htm" method="post">
	<fieldset>

		<h3>Book a Table at<br/>El Gusto</h3>

		<h3></h3>

		<p>Please select the number of guests dining and the required date</p>

		<input type=hidden name=SVC value="tms2 elgusto TimesGet" />
		<input type=hidden name=Portal value="" />
		<input type=hidden name=Offer value="" />
		<input type=hidden name=Language value=0 />

		<label>
			<strong>Number of Guests</strong>
				<select name=Covers id=Covers>
			</select>
			<p style="margin-bottom:0px">For larger parties please reserve by telephone.</p>
		</label>

		<label>
			<strong>Month</strong>
			<select name=Month id=Month onchange="MonthClick(document.Form1.Month.selectedIndex)">
				<option value=8/13 selected>August 2013
				<option value=9/13>September 2013
				<option value=10/13>October 2013
				<option value=11/13>November 2013
				<option value=12/13>December 2013
				<option value=1/14>January 2014
			</select>
		</label>

		<label>
			<strong>Date</strong>
			<select name=Day id=Day onchange="SessionLoad(document.Form1.Day.selectedIndex)">
			</select>
		</label>
		
		<label>
			<strong>Session</strong>
			<select name=Session>
				<option value=Dinner selected>Dinner
			</select>	
		</label>

		<label></label>

		<br/>

		<input type="submit" class="button_large" value="Check Availability" />

	</fieldset>
	<a href="eveve-form2.html">next</a>
</form>

</body>
</html>
